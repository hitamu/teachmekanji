'use strict';

Object.defineProperty(exports, '__esModule', {
  value: true
});

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }

var _express = require('express');

var _express2 = _interopRequireDefault(_express);

exports['default'] = function (bot) {
  var port = parseInt(bot.config.action_port, 10);
  var hostname = bot.config.action_host;

  var app = (0, _express2['default'])();

  var listener = undefined;
  if (!hostname) {
    listener = app.listen(port || process.env.PORT || 8585, function () {
      var _listener$address = listener.address();

      var address = _listener$address.address;
      var port = _listener$address.port;

      console.log('Listening on', address + ':' + port);
    });
  } else {
    listener = app.listen(port || process.env.PORT || 8585, hostname, function () {
      var _listener$address2 = listener.address();

      var address = _listener$address2.address;
      var port = _listener$address2.port;

      console.log('Listening on', address + ':' + port);
    });
  }

  app.get('/', function (request, response) {
    console.log(request.query);
  });
};

module.exports = exports['default'];
